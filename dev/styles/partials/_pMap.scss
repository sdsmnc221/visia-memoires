$mainClass: book__pages__map;

.#{$mainClass} {
    background-color: transparent;
    border-image: none;
    
    &::before {
        display: none;
    }

    &__frame {
        position: absolute;
        top: 0;
        left: 0;
        width: 102%;
        height: calc(100% + 10px);
        transform-origin: bottom right;
        transform: translate(0, -6px);

        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 2px;
            width: 93%;
            height: 100%;
            background-image: $pageDepth;
            background-blend-mode: darken;
          }

        svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }
    }

    &__mbox {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 75%;
        height: 90%;
        transform: translate(-55%, -52%) rotate(-0.7deg) skew(-0.5deg);

        section#map {
            width: 100%;
            height: 100%;
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
            filter: sepia(0.68) contrast(0.9) brightness(1) saturate(0.6);

            @at-root .map__marker {
                position: absolute;
                width: 5px;
                height: 5px;
                background-repeat: no-repeat;
                background-position: center center;
                background-size: cover;
                background-image: url('../images/common/marker.svg');
                filter: sepia(0) contrast(1) brightness(1) saturate(6);
                &--0 {
                    background-image: url('../images/common/marker0.svg');
                }
                &--1 {
                    background-image: url('../images/common/marker1.svg');
                }
            }

            @at-root .map__path {
                opacity: 0.6;
                stroke-width: 0.8px;
                filter: sepia(0) contrast(1) brightness(1) saturate(6);
                &--0 {
                    stroke: $subject0;
                }
                &--1 {
                    stroke: $subject1;
                }
            }

            @at-root .map__popup {
                overflow-y: scroll;
                ul {
                    list-style-type: none;
                    margin: 0;
                    padding: 0;
                }
            }
        }

    }
}