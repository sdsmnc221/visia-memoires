$mainClass: book__pages__map;

.#{$mainClass} {
    background-color: transparent;
    border-image: none;

    img {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        height: 106%;
        transform-origin: top left;
        transform: translate(-2px, -17px) scaleX(1.2) scaleY(0.99);
    }
    
    &::before {
        display: none;
    }

    &__mbox {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 75%;
        height: 90%;
        transform: translate(-55%, -52%) rotate(-0.7deg) skew(-0.5deg);

        canvas {
            z-index: 999;
        }

        section#map {
            width: 100%;
            height: 100%;
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
            filter: sepia(0.68) contrast(0.9) brightness(1) saturate(0.6);

            @at-root .map__marker {
                position: absolute;
                width: 5px;
                height: 5px;
                background-repeat: no-repeat;
                background-position: center center;
                background-size: cover;
                background-image: url('../images/common/marker.svg');
                filter: sepia(0) contrast(1) brightness(1) saturate(6);
                &--0 {
                    background-image: url('../images/common/marker0.svg');
                }
                &--1 {
                    background-image: url('../images/common/marker1.svg');
                }
            }

            @at-root .map__path {
                opacity: 0.6;
                stroke-width: 0.8px;
                filter: sepia(0) contrast(1) brightness(1) saturate(6);
                &--0 {
                    stroke: $subject0;
                }
                &--1 {
                    stroke: $subject1;
                }
            }

            @at-root .map__popup {
                overflow-y: scroll;
                ul {
                    list-style-type: none;
                    margin: 0;
                    padding: 0;
                }
            }
        }

    }
}